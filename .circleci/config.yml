version: 2.1


commands:
  sayhello:
    description: "A very simple command for demonstration purposes"
    parameters:
      to:
        type: string
        default: "Hello World"
    steps:
      - run: echo << parameters.to >> 
      
jobs: # conditional steps may also be defined in `commands:`
  build:
    docker:
      - image: circleci/node:8.10 # ...with this image as the primary container; this is where all `steps` will run

    working_directory: ~/fww-services
    parameters:
      custom_checkout:
        type: string
        default: ""
    machine: true
    steps:
      - run: echo <<parameters.custom_checkout>>
      - sayhello
      - run:
          command: | 
             sudo apt-get install mutt
             mutt -s "Test mail" -a ./test.txt venkatamahesha@virtusa.com < echo "Test"
 

workflows:
  build-test-deploy:
    jobs:
      - build:
          custom_checkout: "any non-empty string is truthy"
